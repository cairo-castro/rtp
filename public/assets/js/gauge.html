<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gauge Chart</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.44.0/apexcharts.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f5f5f5;
        }
        .chart-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <div id="chart"></div>
    </div>

    <script>
        var options = {
            series: [67.65, 45], // Dois valores: laranja (67.65%) e verde (45%)
            chart: {
                height: 350,
                type: 'radialBar',
                offsetY: -20,
                sparkline: {
                    enabled: true
                }
            },
            plotOptions: {
                radialBar: {
                    startAngle: -90,
                    endAngle: 90,
                    hollow: {
                        margin: 15,
                        size: '40%'
                    },
                    track: {
                        background: "#e7e7e7",
                        strokeWidth: '100%',
                        margin: 0
                    },
                    dataLabels: {
                        name: {
                            show: false
                        },
                        value: {
                            show: false
                        },
                        total: {
                            show: true,
                            fontSize: '22px',
                            color: '#333',
                            formatter: function (w) {
                                return "23";
                            }
                        }
                    }
                }
            },
            grid: {
                padding: {
                    top: -10
                }
            },
            fill: {
                colors: ['#ff6b35', '#4CAF50']            },
            stroke: {
                lineCap: 'butt',
                strokeWidth: [20, 15] // Primeira barra mais grossa, segunda mais fina
            },
            labels: ['Medição 1', 'Medição 2'],
        };

        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

        // Adicionar elementos customizados após renderizar o gráfico
        setTimeout(function() {
            // Adicionar o texto "67,65%" abaixo do número principal
            var chartElement = document.querySelector('#chart');
            var percentageDiv = document.createElement('div');
            percentageDiv.style.position = 'absolute';
            percentageDiv.style.bottom = '120px';
            percentageDiv.style.left = '50%';
            percentageDiv.style.transform = 'translateX(-50%)';
            percentageDiv.style.fontSize = '16px';
            percentageDiv.style.color = '#666';
            percentageDiv.style.fontWeight = 'bold';
            percentageDiv.innerHTML = '67,65%';
            
            // Adicionar números nas extremidades (0 e 34)
            var leftNumber = document.createElement('div');
            leftNumber.style.position = 'absolute';
            leftNumber.style.bottom = '60px';
            leftNumber.style.left = '60px';
            leftNumber.style.fontSize = '14px';
            leftNumber.style.color = '#999';
            leftNumber.innerHTML = '0';
            
            var rightNumber = document.createElement('div');
            rightNumber.style.position = 'absolute';
            rightNumber.style.bottom = '60px';
            rightNumber.style.right = '60px';
            rightNumber.style.fontSize = '14px';
            rightNumber.style.color = '#999';
            rightNumber.innerHTML = '34';
            
            // Adicionar o traço verde no gauge na posição correta (67.65% do arco)
            var greenLine = document.createElement('div');
            greenLine.style.position = 'absolute';
            greenLine.style.width = '3px';
            greenLine.style.height = '25px';
            greenLine.style.backgroundColor = '#4CAF50';
            greenLine.style.borderRadius = '2px';
            greenLine.style.top = '105px';
            greenLine.style.right = '75px';
            greenLine.style.transform = 'rotate(22deg)';
            greenLine.style.transformOrigin = 'bottom center';
            
            // Posicionar elementos relativamente ao container do gráfico
            chartElement.style.position = 'relative';
            chartElement.appendChild(percentageDiv);
            chartElement.appendChild(leftNumber);
            chartElement.appendChild(rightNumber);
            chartElement.appendChild(greenLine);
        }, 100);
    </script>
</body>
</html>